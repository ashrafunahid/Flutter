import 'package:flutter/cupertino.dart';
import 'package:flutter/material.dart';

void main(){
  runApp(
    MaterialApp(
      title: 'Cupertino Date Picker',
      home: MyHome(),
    ),
  );
}

class MyHome extends StatefulWidget {

  @override
  State<MyHome> createState() => _MyHomeState();
}

class _MyHomeState extends State<MyHome> {
  
  DateTime dateTime = DateTime(2022, 11, 12, 14, 05);

  @override
  Widget build(BuildContext context) {
    return CupertinoPageScaffold(
        child: Center(
          child: CupertinoButton.filled(
              child: Text('Date Picker'),
              onPressed: (){
                showCupertinoModalPopup(
                    context: context,
                    builder: (BuildContext context){
                      return Container(
                        height: MediaQuery.of(context).size.height * .30,
                        child: CupertinoDatePicker(
                          backgroundColor: Colors.white,
                          initialDateTime: dateTime,
                          onDateTimeChanged: (DateTime newTime){
                            setState(() {
                              dateTime = newTime;
                              print(newTime.year);
                              print(newTime.month);
                              print(newTime.day);
                            });
                          },
                          use24hFormat: true,
                          mode: CupertinoDatePickerMode.dateAndTime,
                        ),
                      );
                    }
                );
              }
          ),
        ),
    );
  }
}
